
# [TDD]

TDD란 Test Driven Development의 약자로 ‘테스트 주도 개발’이라고 한다.

테스트 주도 개발(TDD)은 설계 이후 코드 개발 및 테스트케이스를 작성하는 기존의 개발 프로세스 (그림1) 와 다르게 테스트케이스를 작성 한 후 실제 코드를 개발하여 리펙토링하는 절차(그림2)를 따른다. 이러한 이유로 TDD를 Test First Development라고도 한다.

![Pasted image 20230504170244](/Users/minseocho/Desktop/cs/Tech-Seminar/Contents/res/seminar-62/Pasted image 20230504170244.png)

## **TDD 개발주기**

![Pasted image 20230504170008](/Users/minseocho/Desktop/cs/Tech-Seminar/Contents/res/seminar-62/Pasted image 20230504170008.png)

위 그림은 TDD의 개발주기를 표현한 것이다.

-   { **Red** } 단계에서는 실패하는 테스트 코드를 먼저 작성한다.
-   { **Green** } 단계에서는 테스트 코드를 성공시키기 위한 실제 코드를 작성한다.
-   { **Blue** } 단계에서는 중복 코드 제거, 일반화 등의 리팩토링을 수행한다.



## TDD , 테스트 코드를 먼저 작성해야하는 이유

-   깔끔한 코드를 작성할 수 있다.
-   장기적으로 개발 비용을 절감할 수 있다.
-   개발이 끝나면 테스트 코드를 작성하는 것은 매우 귀찮다. 실패 케이스면 더욱 그렇다.

**TDD의 궁극적인 목표는 작동하는 깔끔한 코드 작성하기라서**




###  TDD(Test-Driven Development, 테스트 주도 개발) 방법 및 순서  

1.  실패하는 작은 단위 테스트를 작성한다. 처음에는 컴파일조차 되지 않을 수 있다.
2.  빨리 테스트를 통과하기 위해 프로덕션 코드를 작성한다. 이를 위해 정답이 아닌 가짜 구현 등을 작성할 수도 있다.
3.  그 다음의 테스트 코드를 작성한다. 실패 테스트가 없을 경우에만 성공 테스트를 작성한다.
4.  새로운 테스트를 통과하기 위해 프로덕션 코드를 추가 또는 수정한다.
5.  1~4단계를 반복하여 실패/성공의 모든 테스트 케이스를 작성한다.
6.  개발된 코드들에 대해 모든 중복을 제거하며 리팩토링한다.




### TDD(Test-Driven Development, 테스트 주도 개발) 접근 방법 

-   가짜로 구현하기: 최대한 빨리 테스트를 통과하기 위해 정답이 아닌 가짜 정답을 구현하는 방법
-   삼각측량법: 값이 다른 여러 테스트를 작성하고, 이를 일반화하여 정답을 구현하는 방법
-   명백하게 구현하기: 정답을 바로 구현하는 방법



## TDD 의 장단점

### 장점

- 보다 튼튼한 객체 지향적인 코드 생산  
- 재설계 시간의 단축  
- 디버깅 시간의 단축  
- 테스트 문서의 대체 가능  
- 추가 구현의 용이함  


### 단점

가장 큰 단점은 바로 생산성의 저하이다.

- TDD 방식의 개발 시간은 일반적인 개발 방식에 비해 대략 10~30% 정도로 늘어난다.  
- SI 프로젝트에서는 소프트웨어의 품질보다 납기일 준수가 훨씬 중요하기 때문에 TDD 방식을 잘 사용하지 않는다.


----


## [단위 테스트]

![IMG_83C34279D517-1](/Users/minseocho/Desktop/cs/Tech-Seminar/Contents/res/seminar-62/IMG_83C34279D517-1.jpeg)

애플리케이션은 주로 단위라는 작은 기능 부분으로 구성 -> 자바의 경우 method 단위로

- 특정한 입력 조건 제약 안에서 이러한 단위의 기능과 정확성을 테스트 하는 것 == 단위 테스트

소스 코드와 테스트 계획을 기반으로 개발자가 작성


단위 테스트에서는 테스트 케이스를 사용 단위 테스트 케이스는 입력 데이터와 특정 기능을 테스트 하는 기대 출력의 쌍으로 구성




### 단위 테스트를 작성해야하느는 이유 
-   코드를 수정하거나 기능을 추가할 때 수시로 빠르게 검증 할 수 있다.
-   리팩토링 시에 안정성을 확보할 수 있다.
-   개발 및 테스팅에 대한 시간과 비용을 절감할 수 있다.



### 좋은 테스트의 특징 

 테스트를 무작정 작성하는게 좋은 것은 아니다. 좋은 테스트를 작성해야 그 이점을 누릴 수 있는데, 좋은 테스트의 특징은 FIRST라는 5가지 규칙을 따라야 한다. 아래의 내용들은 CleanCode에 자세히 나와있다.

1.  Fast: 테스트는 빠르게 동작하여 자주 돌릴 수 있어야 한다.
2.  Independent (Isolated): 각각의 테스트는 독립적이며 서로 의존해서는 안된다.
3.  Repeatable: 어느 환경에서도 반복 가능해야 한다.
4.  Self-Validating: 테스트는 성공 또는 실패로 bool 값으로 결과를 내어 자체적으로 검증되어야 한다.
5.  Timely: 테스트는 적시에 즉, 테스트하려는 실제 코드를 구현하기 직전에 구현해야 한다.


----


## [기능 테스트 ]

주어진 입력 & 기대 출력과 비교해야하는 생성된 출력을 기반으로 기능 요구사항을 테스트 합니다. 각 기능 테스트는 기능 스펙을 바탕으로 해당 기능의 요구사항을 구현한 구성요소의 정확성을 확인

![IMG_7D4AF0ACD1A4-1](/Users/minseocho/Desktop/cs/Tech-Seminar/Contents/res/seminar-62/IMG_7D4AF0ACD1A4-1.jpeg)


## [통합 테스트]

소프트웨어 구성요소를 반복해 통합하면서 규모를 키워가는 동안 결함을 찾는 것
단위 테스트를 거친 모듈을 통합 하고 통합 계획에 따라 테스트

![Pasted image 20230504165508](/Users/minseocho/Desktop/cs/Tech-Seminar/Contents/res/seminar-62/Pasted image 20230504165508.png)




## [단위 테스트와 통합 테스트 차이]

|단위 테스트 | 통합 테스트|
|:--------------:|:---------------:|
|일반적으로 개발자에게 유용| QA, devops 와 고객 센터에 유용|
|결과는 코드에만 영향을 받음|결과는 외부 시스템에 영향이 있을 수 있음|
|작성하기 간단| 구축하기 어려움|
|각 단위를 독립적으로 테스트함 | 하나이상의 구성요서를 테스트
|모킹으로 의존성을 배제|모킹 사용을 권장하지 않음|
|구현이 끝나면 테스트|구성요서의 구현을 테스트 & 구성 요서간 상호 연결 동작을 테스트|
|제이 유닛/테스트 NG를 사용| 아퀼리언과 db유닛과 같은 도구로 실제 환경에서 테스트|
|회귀 문제로 테스트 실패|환경 변화로 테스트 실패 가능성 있음|
|테스트 실행 시간이 길지 않음 | 테스트 실행시간이 꽤 김|





# 참고 문헌
---

https://mangkyu.tistory.com/182 - tdd 방법론 1 
http://clipsoft.co.kr/wp/blog/tddtest-driven-development-%EB%B0%A9%EB%B2%95%EB%A1%A0/ - tdd 방법론 2
https://velog.io/@hoon_dev/React-TDD%EB%9E%80 -react
http://www.yes24.com/Product/Goods/111393077 - 자바 코딩 인터뷰 18장

